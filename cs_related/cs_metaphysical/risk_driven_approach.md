# 恰如其分的软件架构(风险驱动软件架构设计)

## 什么是软件架构，软件架构到底做了什么
软件架构是开发者的决策和意图，有这以下的几个特点：
+ 扮演者系统骨架的角色
+ 影响系统的质量属性
+ 与软件功能上基本正交
+ 同时体现在对于软件的约束

大公司中架构师的分工：
+ 企业架构师：负责多个应用的开发者，打造企业不同系统间组成的生态系统
+ 应用架构师：对于单个系统应用的开发者，对于系统的具体实现进行设计
## 架构设计几种一般的方向

### 架构无关的设计
本质上就是不管，当一个系统的设计本身不需要实现太高的质量或者其他各个属性的情况下，采取企业内部标准，或者照搬其他项目或者是使用领域中的推定架构都可以。
### 专注架构的设计
审慎的挑选架构，以便系统可以达成其既定目标  
在设计过程中，关注一些必须克服的挑战，使用合适的架构使得这些挑战变得更加简单
### 提升架构的设计
更为严格的架构设计  
一旦某一目标或属性被提升至架构中，开发者无须再写代码来实现它(由架构设计直接确保属性的实现)

## 风险，以及风险驱动
由于各个不同流派对于架构使用的分歧，使用风险来进行项目成功可能的评估

### 风险驱动模型
+ 识别风险，排定优先级
+ 选择并运用一组技术
+ 评估风险降低的程度

风险 = 察觉到失败的概率 X 察觉到的影响

### 选择技术的指导原则

+ 区分要求解的问题和需要证明的问题
+ 分析和类比模型
+ 视图类型的匹配
+ 密切相关的技术

### 什么时候停止架构选择
+ 付出的努力和风险相等
+ 不甚完整的架构设计
+ 主观评价

## 建模建议

+ 专注于先行，技术调研先行，demo先行
+ 充分理解架构，优劣势，取舍点
+ 传播技能，不光自己要会，要使得其他组员也会
+ 使用"需要优先考量X，因此选择Y，并承担副作用Y"
+ 避免预先大量设计，先做再改，边做边改
+ 避免自顶向下的设计，以免在实现过程中出现一再调整的情况

个人经验，先尝试做简单demo，调查实现细节，再进行整体设计和架构，最终边实现边调整


## 架构建模

模型使用的基本要义，属于工程学的核心：
+ 创建抽象模型，忽略无意义细节
+ 使用模型解决问题
+ 将模型映射到真实世界

### 领域模型
表达了关于某一领域永恒的事实，关注的是天然事实，其实再某些程度上，领域模型就是业务模型的代表，将实际世界中的业务关系通过领域模型的方式给表达出来主要关注以下一些信息：
+ 类型
+ 关系

### 设计模型
设计模型是包含所有细节的主模型，一个项目不只有一个设计模型，通过视图封装和嵌套的方式，在由不同需要的时候可以展示不一样的设计模型。一般由以下的两种模型：
+ 边界模型
+ 内部模型

注意的是设计模型需要跟随着项目的迭代持续的变更

### 代码模型
基本属于描述代码行为的模型，有一些内容需要明确：
+ 抽象
+ 设计承诺

同样需要在代码中对于细节变更进行同步